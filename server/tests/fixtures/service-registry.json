{
  "version": "1.0.0",
  "services": [
    {
      "id": "auth",
      "name": "Jarvis Auth",
      "description": "JWT authentication service",
      "category": "core",
      "port": 8007,
      "image": "jarvis-auth:latest",
      "healthCheck": "/health",
      "dependsOn": [],
      "envVars": [
        {
          "name": "SECRET_KEY",
          "description": "JWT signing key",
          "required": true,
          "secret": true
        }
      ]
    },
    {
      "id": "command-center",
      "name": "Command Center",
      "description": "Central voice/command API",
      "category": "core",
      "port": 8002,
      "image": "jarvis-command-center:latest",
      "healthCheck": "/health",
      "dependsOn": [
        "auth"
      ],
      "envVars": []
    },
    {
      "id": "recipes",
      "name": "Jarvis Recipes",
      "description": "Recipe management",
      "category": "optional",
      "port": 8001,
      "image": "jarvis-recipes:latest",
      "healthCheck": "/health",
      "dependsOn": [
        "auth"
      ],
      "envVars": [],
      "profile": "recipes"
    },
    {
      "id": "ocr",
      "name": "Jarvis OCR",
      "description": "OCR service",
      "category": "optional",
      "port": 5009,
      "image": "jarvis-ocr:latest",
      "healthCheck": "/health",
      "dependsOn": [],
      "envVars": [],
      "profile": "ocr"
    }
  ],
  "infrastructure": [
    {
      "id": "postgres",
      "name": "PostgreSQL",
      "description": "Primary database",
      "image": "postgres:16",
      "port": 5432,
      "envVars": [
        {
          "name": "POSTGRES_PASSWORD",
          "description": "DB password",
          "required": true,
          "secret": true
        }
      ],
      "volumes": [
        "postgres-data:/var/lib/postgresql/data"
      ]
    }
  ]
}